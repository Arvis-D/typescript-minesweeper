!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.notify=function(t,e){this.participants[t].forEach((function(i){i.listen(e,t)}))},t.addParticipant=function(t,e){this.participants[t]=this.participants[t]||[],this.participants[t].push(e)},t.participants={},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(2).default.create(document.querySelector("#minesweeper"))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=i(4),s=i(6),r=i(7),d=i(8),u=i(9),a=i(10),c=function(){function t(){}return t.create=function(t){return new n.default(t,new s.default(new d.default,new r.default,new u.default,new a.default),new o.default)},t}();e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){this.dom=t,this.header=e,this.minefield=i,this.dom.appendChild(this.header.dom),this.dom.appendChild(this.minefield.dom)};e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(0),s=function(){function t(){this.xWidth=30,this.yWidth=16,this.mineProbability=.2,this.tiles={},this.setDom(),this.setStyle(),this.createTiles(),this.addNeighbors(),this.showTiles(),o.default.addParticipant("game started",this)}return t.prototype.createTiles=function(){for(var t=0;t<this.yWidth;t++)for(var e=0;e<this.xWidth;e++){var i=e+"|"+t;this.tiles[i]=new n.default(i)}},t.prototype.addMines=function(t){console.log(t);var e=this.tiles,i=this.xWidth,n=this.yWidth,o=this.mineProbability,s=[];e[t].neighbors.forEach((function(t){s.push(t.pos)}));for(var r=i*n,d=Math.round(r*o),u=0;u!==d;){var a=Math.round(Math.random()*(i-1))+"|"+Math.round(Math.random()*(n-1));e[a].hasMine||s.includes(a)||(e[a].hasMine=!0,u++)}},t.prototype.addNeighbors=function(){var t=this.tiles,e=this.xWidth,i=this.yWidth;Object.keys(t).forEach((function(n){for(var o=n.split("|").map((function(t){return parseInt(t)})),s=o[0],r=o[1],d=t[n],u=-1;u<=1;u++)for(var a=-1;a<=1;a++){var c=s+u,l=r+a;c<0||l<0||c>=e||l>=i||c===s&&l===r||d.neighbors.push(t[c+"|"+l])}}))},t.prototype.addNumbers=function(){var t=this.tiles;Object.keys(t).forEach((function(e){var i=t[e],n=0;i.neighbors.forEach((function(t){t.hasMine&&n++})),i.number=n}))},t.prototype.showTiles=function(){var t=this.tiles,e=this.dom;Object.keys(t).forEach((function(i){e.appendChild(t[i].dom)}))},t.prototype.setStyle=function(){var t=this.dom,e=this.xWidth,i=this.yWidth;t.style.width=n.default.totalSize()*e+"px",t.style.height=n.default.totalSize()*i+"px"},t.prototype.setDom=function(){this.dom=document.createElement("div"),this.dom.setAttribute("id","minefield")},t.prototype.listen=function(t,e){console.log(t),this.startGame(t)},t.prototype.startGame=function(t){this.addMines(t),this.addNumbers(),this.tiles[t].showTiles()},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(t){this.pos=t,this.number=0,this.condition="closed",this.hasMine=!1,this.neighbors=[],this.setDom(),this.setStyle()}return t.prototype.showTiles=function(){var t=this.condition,e=this.number,i=this.neighbors;"closed"===t&&(this.showTile(),0===e&&i.forEach((function(t,e){setTimeout((function(){t.showTiles()}),50)})))},t.prototype.showTile=function(){var e=this.dom,i=this.number,n=this.hasMine;this.condition="opened",e.classList.replace("closed","opened"),e.style.color=t.colors[i],e.innerHTML=n||0===i?"":i.toString(),n&&e.classList.add("mine")},t.prototype.handleLeftClick=function(e){e.preventDefault(),t.gameStarted?(console.log(e),this.showTiles()):(t.gameStarted=!0,n.default.notify("game started",this.pos))},t.prototype.handleRightClick=function(t){t.preventDefault(),this.toggleFlag()},t.totalSize=function(){return this.size},t.prototype.toggleFlag=function(){var t=this.dom,e=this.condition;"opened"!==e&&(t.classList.toggle("flag"),this.condition="flag"===e?"closed":"flag")},t.prototype.setDom=function(){var t=this,e=this.condition;this.dom=document.createElement("button"),this.dom.classList.add("tile",e),this.dom.addEventListener("click",(function(e){t.handleLeftClick(e)})),this.dom.addEventListener("contextmenu",(function(e){t.handleRightClick(e)}))},t.prototype.setStyle=function(){var e=this.dom;e.style.height=t.size+"px",e.style.width=t.size+"px",e.style.fontSize=t.size-3+"px"},t.borderWidth=10,t.size=40,t.gameStarted=!1,t.colors={0:"white",1:"blue",2:"green",3:"red",4:"purple",5:"brown",6:"darkcyan",7:"black",8:"grey",9:"cyan"},t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n){this.counter=t,this.reset=e,this.timer=i,this.settings=n,this.createDom()}return t.prototype.createDom=function(){this.dom=document.createElement("div"),this.dom.setAttribute("id","header"),this.dom.appendChild(this.settings.dom),this.dom.appendChild(this.counter.dom),this.dom.appendChild(this.reset.dom),this.dom.appendChild(this.timer.dom)},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.createDom()}return t.prototype.createDom=function(){var t=this;this.dom=document.createElement("button"),this.dom.style.backgroundImage=this.getBackground("normal"),this.dom.classList.add("btn","btn-round"),this.dom.setAttribute("id","reset"),this.dom.addEventListener("click",(function(){t.reset()}))},t.prototype.reset=function(){},t.prototype.getBackground=function(t){return"url(./style/img/"+{victory:"victory.png",click:"click.svg",normal:"normal.svg",dead:"dead.png"}[t]+")"},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.mminesLeft=0,this.createDom()}return t.prototype.createDom=function(){this.dom=document.createElement("div"),this.dom.classList.add("counter"),this.dom.setAttribute("id","mine-counter"),this.dom.innerHTML=this.getInnerHTML(),console.log(this.getInnerHTML())},t.prototype.count=function(){setInterval((function(){}),1e3)},t.prototype.getInnerHTML=function(){return'\n        <h5>Mines left:</h5>\n        <div class="counter-number">'+this.mminesLeft+"</div>"},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.createDom()}return t.prototype.createDom=function(){this.dom=document.createElement("div"),this.dom.classList.add("counter"),this.dom.setAttribute("id","time-counter"),this.dom.innerHTML=this.getInnerHTML()},t.prototype.count=function(){setInterval((function(){}),1e3)},t.prototype.getInnerHTML=function(){return'\n        <h5>Time elapsed:</h5>\n        <div class="counter-number">12</div>'},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.createDom()}return t.prototype.createDom=function(){var t=this;this.dom=document.createElement("button"),this.dom.innerHTML='<span class="mi mi-settings"></span>',this.dom.classList.add("btn","btn-round"),this.dom.setAttribute("id","settings"),this.dom.addEventListener("click",(function(){t.openSettings()}))},t.prototype.openSettings=function(){},t.prototype.getSettingHtml=function(){return'\n        <div class="settings-modal">\n            <div class="settings-item">\n                <span>x width</span><input type="text">\n            </div>\n            <div class="settings-item">\n                <span>y width</span><input type="text">\n            </div>\n            <div class="settings-item">\n                <span>mine probability</span><input type="text">\n            </div>\n            <div class="settings-item">\n                <button class="btn">Save</button>\n                <button class="btn">Exit</button>\n            </div>\n        </div>\n        '},t}();e.default=n}]);